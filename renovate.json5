{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    ':dependencyDashboard',
    ':semanticPrefixFixDepsChoreOthers',
    'group:all',
    'replacements:all',
    'workarounds:all',
  ],
  timezone: 'America/New_York',
  schedule: [
    'after 4am and before 10am on Monday',
  ],
  rebaseWhen: 'auto',
  labels: [
    'renovate',
  ],
  prHourlyLimit: 1,
  prConcurrentLimit: 1,
  'pre-commit': {
    enabled: true,
  },
  customManagers: [
    {
      customType: 'regex',
      fileMatch: [
        '^.env',
      ],
      matchStrings: [
        'datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\s.*?_VERSION=(?<currentValue>.*)\\s',
      ],
      versioningTemplate: '{{#if versioning}}{{{versioning}}}{{else}}semver-coerced{{/if}}',
      extractVersionTemplate: '^v?(?<version>.*)$',
    },
    {
      customType: 'regex',
      fileMatch: [
        '^.tool-versions$',
      ],
      matchStrings: [
        'datasource=(?<datasource>.*?) depName=(?<depName>.*?)( versioning=(?<versioning>.*?))?\\s.*? (?<currentValue>.*)\\s',
      ],
      versioningTemplate: '{{#if versioning}}{{{versioning}}}{{else}}semver-coerced{{/if}}',
      extractVersionTemplate: '^v?(?<version>.*)$',
    },
  ],
  packageRules: [
    {
      matchPackageNames: [
        'k8s.io/client-go',
      ],
      allowedVersions: '<1.0.0',
    },
    {
      matchManagers: [
        'terraform',
      ],
      matchDepTypes: [
        'module',
      ],
      matchDatasources: [
        'github-tags',
        'git-tags',
      ],
      versioning: 'loose',
    },
  ],
  vulnerabilityAlerts: {
    enabled: true,
    groupName: 'Security Updates',
    schedule: [],
    dependencyDashboardApproval: false,
    minimumReleaseAge: null,
    rangeStrategy: 'update-lockfile',
    commitMessageSuffix: '[SECURITY]',
    branchTopic: '{{{datasource}}}-{{{depName}}}-vulnerability',
    prCreation: 'immediate',
    labels: [
      'security',
    ],
    automerge: true,
    assignees: [
      '@defenseunicorns/delivery-aws-iac',
    ],
  },
  osvVulnerabilityAlerts: true,
}
